{"ast":null,"code":"import React,{useState,useEffect}from'react';import{supabase}from'./supabaseClient';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RecoveredPlayers(){const[recoveredPlayers,setRecoveredPlayers]=useState([]);const[currentPage,setCurrentPage]=useState(1);const playersPerPage=10;useEffect(()=>{const fetchRecoveredPlayers=async()=>{const currentYear=new Date().getFullYear();const startOfYear=new Date(currentYear,0,1).toISOString().slice(0,10);const endOfYear=new Date(currentYear,11,31).toISOString().slice(0,10);const{data,error}=await supabase.from('players').select('*').eq('status','recovered').gte('recovery_date',startOfYear).lte('recovery_date',endOfYear);if(error){console.error('Error fetching recovered players:',error);}else{setRecoveredPlayers(data);}};fetchRecoveredPlayers();},[]);// Calculate pagination\nconst indexOfLastPlayer=currentPage*playersPerPage;const indexOfFirstPlayer=indexOfLastPlayer-playersPerPage;const currentPlayers=recoveredPlayers.slice(indexOfFirstPlayer,indexOfLastPlayer);const totalPages=Math.ceil(recoveredPlayers.length/playersPerPage);const paginate=pageNumber=>setCurrentPage(pageNumber);return/*#__PURE__*/_jsxs(\"div\",{className:\"recovered-players\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u05E9\\u05D7\\u05E7\\u05E0\\u05D9\\u05DD \\u05E9\\u05D4\\u05D7\\u05DC\\u05D9\\u05DE\\u05D5 \\u05D4\\u05E9\\u05E0\\u05D4\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"player-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u05E9\\u05DD\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u05E1\\u05D5\\u05D2 \\u05E4\\u05E6\\u05D9\\u05E2\\u05D4\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05E4\\u05E6\\u05D9\\u05E2\\u05D4\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05D7\\u05D6\\u05E8\\u05D4\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u05DE\\u05D0\\u05DE\\u05E8\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:currentPlayers.map(player=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[player.photo_url?/*#__PURE__*/_jsx(\"img\",{src:player.photo_url,alt:player.name_hebrew,style:{width:'30px',height:'30px',borderRadius:'50%',marginLeft:'10px'}}):null,player.name_hebrew]}),/*#__PURE__*/_jsx(\"td\",{children:player.injury_type_hebrew}),/*#__PURE__*/_jsx(\"td\",{children:player.injury_date}),/*#__PURE__*/_jsx(\"td\",{children:player.recovery_date||'טרם חזר'}),/*#__PURE__*/_jsx(\"td\",{children:player.article_link?/*#__PURE__*/_jsx(\"a\",{href:player.article_link,target:\"_blank\",rel:\"noopener noreferrer\",children:\"\\u05E7\\u05D9\\u05E9\\u05D5\\u05E8\"}):'אין'})]},player.id))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pagination\",children:Array.from({length:totalPages},(_,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>paginate(index+1),style:{margin:'0 5px',padding:'5px 10px',backgroundColor:currentPage===index+1?'#66bb6a':'#a5d6a7',border:'none',borderRadius:'5px',color:'white',cursor:'pointer'},children:index+1},index+1))})]});}export default RecoveredPlayers;","map":{"version":3,"names":["React","useState","useEffect","supabase","jsx","_jsx","jsxs","_jsxs","RecoveredPlayers","recoveredPlayers","setRecoveredPlayers","currentPage","setCurrentPage","playersPerPage","fetchRecoveredPlayers","currentYear","Date","getFullYear","startOfYear","toISOString","slice","endOfYear","data","error","from","select","eq","gte","lte","console","indexOfLastPlayer","indexOfFirstPlayer","currentPlayers","totalPages","Math","ceil","length","paginate","pageNumber","className","children","map","player","photo_url","src","alt","name_hebrew","style","width","height","borderRadius","marginLeft","injury_type_hebrew","injury_date","recovery_date","article_link","href","target","rel","id","Array","_","index","onClick","margin","padding","backgroundColor","border","color","cursor"],"sources":["/Users/tallevi/personal-repos/injboard/src/RecoveredPlayers.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { supabase } from './supabaseClient';\n\nfunction RecoveredPlayers() {\n  const [recoveredPlayers, setRecoveredPlayers] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const playersPerPage = 10;\n\n  useEffect(() => {\n    const fetchRecoveredPlayers = async () => {\n      const currentYear = new Date().getFullYear();\n      const startOfYear = new Date(currentYear, 0, 1).toISOString().slice(0, 10);\n      const endOfYear = new Date(currentYear, 11, 31).toISOString().slice(0, 10);\n\n      const { data, error } = await supabase\n        .from('players')\n        .select('*')\n        .eq('status', 'recovered')\n        .gte('recovery_date', startOfYear)\n        .lte('recovery_date', endOfYear);\n\n      if (error) {\n        console.error('Error fetching recovered players:', error);\n      } else {\n        setRecoveredPlayers(data);\n      }\n    };\n\n    fetchRecoveredPlayers();\n  }, []);\n\n  // Calculate pagination\n  const indexOfLastPlayer = currentPage * playersPerPage;\n  const indexOfFirstPlayer = indexOfLastPlayer - playersPerPage;\n  const currentPlayers = recoveredPlayers.slice(indexOfFirstPlayer, indexOfLastPlayer);\n  const totalPages = Math.ceil(recoveredPlayers.length / playersPerPage);\n\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\n\n  return (\n    <div className=\"recovered-players\">\n      <h2>שחקנים שהחלימו השנה</h2>\n      <table className=\"player-table\">\n        <thead>\n          <tr>\n            <th>שם</th>\n            <th>סוג פציעה</th>\n            <th>תאריך פציעה</th>\n            <th>תאריך חזרה</th>\n            <th>מאמר</th>\n          </tr>\n        </thead>\n        <tbody>\n          {currentPlayers.map(player => (\n            <tr key={player.id}>\n              <td>\n                {player.photo_url ? <img src={player.photo_url} alt={player.name_hebrew} style={{ width: '30px', height: '30px', borderRadius: '50%', marginLeft: '10px' }} /> : null}\n                {player.name_hebrew}\n              </td>\n              <td>{player.injury_type_hebrew}</td>\n              <td>{player.injury_date}</td>\n              <td>{player.recovery_date || 'טרם חזר'}</td>\n              <td>{player.article_link ? <a href={player.article_link} target=\"_blank\" rel=\"noopener noreferrer\">קישור</a> : 'אין'}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <div className=\"pagination\">\n        {Array.from({ length: totalPages }, (_, index) => (\n          <button\n            key={index + 1}\n            onClick={() => paginate(index + 1)}\n            style={{\n              margin: '0 5px',\n              padding: '5px 10px',\n              backgroundColor: currentPage === index + 1 ? '#66bb6a' : '#a5d6a7',\n              border: 'none',\n              borderRadius: '5px',\n              color: 'white',\n              cursor: 'pointer'\n            }}\n          >\n            {index + 1}\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default RecoveredPlayers; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}